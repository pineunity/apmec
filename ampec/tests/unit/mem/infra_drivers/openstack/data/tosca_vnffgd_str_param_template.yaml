tosca_definitions_version: tosca_simple_profile_for_mec_1_0_0

description: example template

topology_template:
  description: Example NFY template

  inputs:
    net_name:
      type: string
      description: Name of the network

  node_templates:

    Forwarding_path1:
      type: tosca.nodes.mec.FP.Apmec
      description: creates path (CP11->CP12->CP32)
      properties:
        id: 51
        policy:
          type: ACL
          criteria:
            - network_name: { get_input: net_name }
            - destination_port_range: 80-1024
            - ip_proto: 6
            - ip_dst_prefix: 192.168.1.2/24
        path:
          - forwarder: MEA1
            capability: CP11
          - forwarder: MEA1
            capability: CP12
          - forwarder: MEA3
            capability: CP32

  groups:
    NFY1:
      type: tosca.groups.mec.NFY
      description: HTTP to Corporate Net
      properties:
        vendor: apmec
        version: 1.0
        number_of_endpoints: 5
        dependent_virtual_link: [VL1,VL2,VL3]
        connection_point: [CP11,CP12,CP32]
        constituent_meas: [MEA1,MEA3]
      members: [Forwarding_path1]
